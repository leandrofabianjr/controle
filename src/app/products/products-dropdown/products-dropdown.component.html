<mat-form-field class="form-field" appearance="fill">
  <mat-label>Produto</mat-label>
  <mat-select [formControl]="formControl" #singleSelect>
    <mat-option>
      <ngx-mat-select-search [searching]="loading" placeholderLabel="Busque pelo produto" noEntriesFoundLabel=""
        [formControl]="filterControl" (appDebounceSearching)="filter($event)">
      </ngx-mat-select-search>
    </mat-option>
    <mat-option *ngIf="!(filtered | async)?.length && filterControl?.value?.length" [value]="null">
      <button class="w-100" mat-button color="accent" (click)="create()">Cadastrar "{{ filterControl.value }}"</button>
    </mat-option>
    <mat-option *ngFor="let item of filtered | async" [value]="item">
      {{item.name}}
    </mat-option>
  </mat-select>
  <mat-error>
    <app-form-control-error [control]="control"></app-form-control-error>
  </mat-error>
</mat-form-field>
